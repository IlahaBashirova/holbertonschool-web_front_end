<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 0</title>
        <script
            src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
            integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
            crossorigin="anonymous">
        </script>
        <script>
            $(document).ready(function() {

                function createFamilyTree() {
                    $("body").append(
                        $("<table></table>").append(
                            $("<thead></thead>").append(
                                $("<tr></tr>").append(
                                    $("<th>Firstname</th>"),
                                    $("<th>Lastname</th>")
                                )
                            ),
                            $("<tbody></tbody>") 
                        )
                    );
                }
                function addNewMember(firstname, lastname, position) {
                    $("tbody").append(
                        var newMember = $("<tr></tr>").append(
                            $("<td>" + firstname + "</td>"),
                            $("<td>" + lastname + "</td>"),
                            $("<td>" + "x" + "</td>").css("background-color", "orange").click(function() {
                                $(this).parent().remove();
                            })
                        )
                    );
                    if (position === "before") {
                        $("<tbody></tbody>").prepend(newMember);
                    } else if (position === "after") {
                        $("tbody").append(newMember);
                    }
                }

                function createForm() {
                    var form = $("<form></form>").append(
                        $("<input>").attr("type","text"),
                        $("<input>").attr("type","text")
                    )
                    form.append(
                        $("<select></select>").append(
                            $("<option></option>").text("Before"),
                            $("<option></option>").text("After")
                        ),
                        $("<input>").attr("type", "submit").val("Submit")
                    );
                    form.on("submit", function(event) {
                        event.preventDefault();
                        var firstName = $("input[type='text']").first().val();
                        var lastName = $("input[type='text']:nth-of-type(2)").val();
                        var position = $("select").val().toLowerCase();

                        addNewMember(firstName, lastName, position);
                         form[0].reset()

                });
                $("body").prepend(form);

                }
                createFamilyTree();
                createForm();
            })
        </script>

    </head>

    <body>

    </body>

</html>